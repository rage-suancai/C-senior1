全局变量和局部变量

现在我们已经了解了如何创建和调用函数 在继续学习后续内容之前 我们需要先认识一下全局变量和局部变量这两个概念(啊这 变量就是变量 还分这么细啊?)

我们首先来看看局部变量 实际上我们之前使用的都是局部变量 比如:

                    int main() {
                        int i  = 10; // 这里定义的变量i实际上是main函数中的局部变量 它的作用域只能是main函数中 也就是说其他地方是无法使用的
                    }

局部变量只会在其作用域中生效:

                    int main() {
                        int i = 10;
                    }

                    void test(){
                        i += 10;
                    }

可以看到在其他函数中 无法使用main函数中的变量 因为局部变量的作用域是有限的 比如位于某个函数内部的变量
那么它的作用域就是整个函数内部 而其他位置均无法访问 又比如我们之前学习的for循环 当我们这样定义时:

                    int main() {
                        for (int i = 0; i < 10; ++i) {
                            printf("%d", i); // 在内部就可以正常使用for循环定义的i
                        }
                        i += 10; // 外部直接报错
                    }

可以看到 在for循环中定义的变量 只能在for循环内部使用 而出了这个花括号之后就用不了了 当然由于作用域不同 所以下面这种写法是完全没问题的:

                    int main() {
                        for (int i = 0; i < 10; ++i) { // 虽然这里写了两个for都使用了i 但是由处于两个不同的作用域 所以这两个i半毛钱关系都没有

                        }
                        for (int i = 0; i < 20; ++i) {

                        }
                    }

所以 清楚了局部变量的作用域之后 我们在编写程序的时候就很清楚了:

                    int main() {
                        int i; // 如果是在函数中定义的话 那么整个函数里面都可以使用了
                        for (i = 0; i < 10; ++i) {
                            printf("%d", i); // 在内部可以正常使用
                        }
                        i += 10; // 外部正常使用
                    }

                    int main() {
                        if(1) {
                            int a = 10;
                        }
                        a = 20;
                    }

那么如果现在我们需要在任何位置都能使用一个变量 该怎么办呢? 这时就要用到全局变量了:

                    #inlcude <stdio.h>

                    void test();

                    int a = 10; // 我们可以直接将变量定义放在外面 这样所有的函数都可以访问了

                    int main() {
                        a += 10;
                        test(); // 现在各位觉得 在两个操作完成后 a会是多少呢?
                        printf("%d", a);
                    }

                    void test() {
                        a += 10;
                    }

                    30
                    进程已结束,退出代码0

因为现在所有函数都能够使用全局变量 所以这个结果不难得到